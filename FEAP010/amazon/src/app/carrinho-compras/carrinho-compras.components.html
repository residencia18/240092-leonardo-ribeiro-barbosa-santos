<div class="container mt-5">
  <h2 class="mb-4 text-center">Loja Amazon</h2>

  <!-- Formulário para adicionar novos produtos -->
  <div class="mb-4">
    <h4>Adicionar Novo Produto</h4>
    <!-- Formulário para adicionar produtos -->
    <div class="form-group mb-3">
      <label for="productName">Nome do Produto</label>
      <input
        type="text"
        class="form-control"
        id="productName"
        [(ngModel)]="novoProduto.Name"
        placeholder="Nome do Produto"
      />
    </div>
    <div class="form-group mb-3">
      <label for="productPrice">Preço</label>
      <input
        type="number"
        class="form-control"
        id="productPrice"
        [(ngModel)]="novoProduto.Price"
        placeholder="Preço"
      />
    </div>
    <div class="form-group mb-3">
      <label para="productImage">URL da Imagem</label>
      <input
        type="text"
        class="form-control"
        id="productImage"
        [(ngModel)]="novoProduto.imgURL"
        placeholder="URL da Imagem"
      />
    </div>
    <button class="btn btn-primary" (click)="adicionarAoCarrinho()">Adicionar ao Carrinho</button>
  </div>

  <!-- Lista de itens no carrinho -->
  <div *ngIf="listaDeItens | async as itens; else loading">
    <div *ngIf="itens.length > 0; else emptyCart">
      <div class="row row-cols-1 row-cols-md-3 g-4">
        <div class="col" *ngFor="let item of itens; let i = index">
          <div class="card mb-3">
            <div class="row g-0">
              <div class="col-md-4">
                <img [src]="item.imgURL" class="img-fluid rounded-start" alt="{{ item.Name }}" style="width: 200px; height: 200px;" />
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h5 class="card-title">{{ item.Name }}</h5>
                  <p class="card-text">Preço: R$ {{ item.Price }}</p>
                  <p class="card-text">Quantidade:
                    <button class="btn btn-sm btn-outline-primary" (click)="aumentarQuantidade(i)">+</button>
                    <span class="quantity">{{ item.Quantity }}</span>
                    <button class="btn btn-sm btn-outline-primary" (click)="diminuirQuantidade(i)">-</button>
                  </p>
                </div>
                <div class="card-footer d-flex justify-content-between"> <!-- corrigido -->
                  <button class="btn btn-danger me-2 custom-btn" (click)="removerItemDoCarrinho(i)">Remover</button>
                  <button class="btn btn-warning" (click)="salvarParaDepois(i)">Salvar para depois</button>
                  <button class="btn btn-info custom-btn" (click)="compartilharItem(item)">Compartilhar</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <ng-template #emptyCart>
      <p class="mt-3">O carrinho está vazio.</p>
    </ng-template>
  </div>

  <!-- Mensagem de carregamento -->
  <ng-template #loading>
    <p class="mt-3">Carregando...</p>
  </ng-template>
</div>
